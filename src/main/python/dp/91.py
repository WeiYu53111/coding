# coding=utf-8
# ----------------
# author: weiyu
# create_time : 10/31/2022
# description :

# ä¸€æ¡åŒ…å«å­—æ¯ A-Z çš„æ¶ˆæ¯é€šè¿‡ä»¥ä¸‹æ˜ å°„è¿›è¡Œäº† ç¼–ç  ï¼š
#
#
# 'A' -> "1"
# 'B' -> "2"
# ...
# 'Z' -> "26"
#
#  è¦ è§£ç  å·²ç¼–ç çš„æ¶ˆæ¯ï¼Œæ‰€æœ‰æ•°å­—å¿…é¡»åŸºäºä¸Šè¿°æ˜ å°„çš„æ–¹æ³•ï¼Œåå‘æ˜ å°„å›å­—æ¯ï¼ˆå¯èƒ½æœ‰å¤šç§æ–¹æ³•ï¼‰ã€‚ä¾‹å¦‚ï¼Œ"11106" å¯ä»¥æ˜ å°„ä¸ºï¼š
#
#
#  "AAJF" ï¼Œå°†æ¶ˆæ¯åˆ†ç»„ä¸º (1 1 10 6)
#  "KJF" ï¼Œå°†æ¶ˆæ¯åˆ†ç»„ä¸º (11 10 6)
#
#
#  æ³¨æ„ï¼Œæ¶ˆæ¯ä¸èƒ½åˆ†ç»„ä¸º (1 11 06) ï¼Œå› ä¸º "06" ä¸èƒ½æ˜ å°„ä¸º "F" ï¼Œè¿™æ˜¯ç”±äº "6" å’Œ "06" åœ¨æ˜ å°„ä¸­å¹¶ä¸ç­‰ä»·ã€‚
#
#  ç»™ä½ ä¸€ä¸ªåªå«æ•°å­—çš„ éç©º å­—ç¬¦ä¸² s ï¼Œè¯·è®¡ç®—å¹¶è¿”å› è§£ç  æ–¹æ³•çš„ æ€»æ•° ã€‚
#
#  é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆè‚¯å®šæ˜¯ä¸€ä¸ª 32 ä½ çš„æ•´æ•°ã€‚
#
#
#
#  ç¤ºä¾‹ 1ï¼š
#
#
# è¾“å…¥ï¼šs = "12"
# è¾“å‡ºï¼š2
# è§£é‡Šï¼šå®ƒå¯ä»¥è§£ç ä¸º "AB"ï¼ˆ1 2ï¼‰æˆ–è€… "L"ï¼ˆ12ï¼‰ã€‚
#
#
#  ç¤ºä¾‹ 2ï¼š
#
#
# è¾“å…¥ï¼šs = "226"
# è¾“å‡ºï¼š3
# è§£é‡Šï¼šå®ƒå¯ä»¥è§£ç ä¸º "BZ" (2 26), "VF" (22 6), æˆ–è€… "BBF" (2 2 6) ã€‚
#
#
#  ç¤ºä¾‹ 3ï¼š
#
#
# è¾“å…¥ï¼šs = "0"
# è¾“å‡ºï¼š0
# è§£é‡Šï¼šæ²¡æœ‰å­—ç¬¦æ˜ å°„åˆ°ä»¥ 0 å¼€å¤´çš„æ•°å­—ã€‚
# å«æœ‰ 0 çš„æœ‰æ•ˆæ˜ å°„æ˜¯ 'J' -> "10" å’Œ 'T'-> "20" ã€‚
# ç”±äºæ²¡æœ‰å­—ç¬¦ï¼Œå› æ­¤æ²¡æœ‰æœ‰æ•ˆçš„æ–¹æ³•å¯¹æ­¤è¿›è¡Œè§£ç ï¼Œå› ä¸ºæ‰€æœ‰æ•°å­—éƒ½éœ€è¦æ˜ å°„ã€‚
#
#
#
#
#  æç¤ºï¼š
#
#
#  1 <= s.length <= 100
#  s åªåŒ…å«æ•°å­—ï¼Œå¹¶ä¸”å¯èƒ½åŒ…å«å‰å¯¼é›¶ã€‚
#
#
#  Related Topics å­—ç¬¦ä¸² åŠ¨æ€è§„åˆ’ ğŸ‘ 1287 ğŸ‘ 0


# leetcode submit region begin(Prohibit modification and deletion)

class Solution:

    """
    è¿™é‡Œæœ‰å‡ ä¸ªç‚¹

    1.ä¸æ¥¼æ¢¯çš„é¢˜ç›®ç›¸ä¼¼, å­˜åœ¨é€’æ¨å…³ç³»  dp[i] = dp[i-1] + dp[i-2],å› ä¸ºæ¯æ¬¡æ˜¯å–ä¸€ä¸ªå­—ç¬¦è§£å¯†è¿˜æ˜¯å–ä¸¤ä¸ªå­—ç¬¦è§£å¯†
    2.éœ€è¦è€ƒè™‘ä¸¤ä¸ªç»„åˆ çš„æ—¶å€™éœ€è¦æ»¡è¶³  10 <= x <= 26
    3.ä»ç¬¬äºŒä¸ªå­—ç¬¦å¼€å§‹å°±è¦è€ƒè™‘ç¬¬äºŒç‚¹çš„åˆ¤æ–­,å› æ­¤åˆå§‹åŒ–dpæ•°ç»„çš„æ—¶å€™ï¼Œå¾ˆéº»çƒ¦ï¼Œéœ€è¦ä½¿ç”¨å“¨å…µèŠ‚ç‚¹æ¥
      ç»Ÿä¸€å¤„ç†
    4.dpæ•°ç»„åˆå§‹åŒ–çš„æ—¶å€™ï¼Œdp[0]çš„å–å€¼ è¦ =  1,è€Œä¸æ˜¯ 0  ç†ç”±æ˜¯ å½“éœ€è¦ç”¨åˆ°å“¨å…µèŠ‚ç‚¹ dp[0]çš„æ—¶å€™ï¼Œ
      æ˜¯å–ä¸¤ä¸ªå­—ç¬¦çš„æƒ…å†µ æ­¤æ—¶å±äºä¸€ç§è§£æ³•ï¼Œå› æ­¤  dp[0] = 1 ,dp[1] = 1
    5.å› ä¸ºä½¿ç”¨äº†å“¨å…µèŠ‚ç‚¹,  for å¾ªç¯æ˜¯æ ¹æ® è¦éå†çš„å­—ç¬¦ä¸² æ¥å¾ªç¯   ä¸‹æ ‡çš„å…³ç³»ä¼šå˜æˆ  dp[i+1] è¡¨ç¤º s[i] å¯¹åº”çš„çŠ¶æ€
    """
    def numDecodings(self, s: str) -> int:
        if s[0] == "0":
            return 0

        size = len(s)
        dp = [0 for _ in range(size+1)]
        dp[0] = 1
        dp[1] = 1
        for i in range(1,size):
            if s[i] == "0":
                if 1 <= int(s[i-1]) <=2:
                    dp[i+1] = dp[i-1]
                else:
                    return 0
            else:
                dp[i+1] = dp[i] + (dp[i-1] if 10 <= int(s[i-1:i+1]) <=26 else 0)
        return dp[-1]


    def numDecodings_recursion(self, s: str) -> int:
        if s[0]=="0":
            return 0
        size = len(s)
        return self._recursion(s,size,0,1) + self._recursion(s,size,0,2)


    def _recursion(self,s,size,start,add):
        if start == size:
            return 1
        elif start < size < start + add:
            return 0

        end = start + add
        if s[start] != "0":
            if 10 <= int(s[start:end]) <=26 and add == 2:
                if end == size:
                    return 1
                else:
                    return self._recursion(s,size,end,1) + self._recursion(s,size,end,2)
            elif add == 1:
                if end == size:
                    return 1
                else:
                    return self._recursion(s,size,end,1) + self._recursion(s,size,end,2)
        return 0

if __name__ == '__main__':
    obj = Solution()
    input = "111111111111111111111111111111111111111111111"
    # print("é€’å½’:" + str(obj.numDecodings_recursion(input)))  # 1836311903
    print("dp:" + str(obj.numDecodings(input)))

# leetcode submit region end(Prohibit modification and deletion)
